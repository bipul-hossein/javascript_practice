<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Blood donors in Bangladesh</title>
  </head>
  <body class="w-[95%] md:w-[80%] mx-auto">
    <h1
      class="mt-10 md:mt-5 text-xl md:text-3xl text-red-400 text-center uppercase font-bold underline"
    >
      Blood donors list!
    </h1>
    <div class="flex justify-between flex-col md:flex-row mt-5 md:mt-8">
      <div class="md:w-[50%] mb-8">
        <h3 class="text-xl bg-blue-200 pl-3 text-center">Blood Donors</h3>
        <div>
          <table class="w-full">
            <thead>
              <tr>
                <th>SL</th>
                <th>Full name</th>
                <th>Age</th>
                <th>Blood Group</th>
              </tr>
            </thead>
            <tbody id="donors-info"></tbody>
          </table>
        </div>
      </div>
      <div class="md:w-[45%]">
        <form action="" id="donorForm">
          <label for="fname">Full name:</label><br />
          <input
            type="text"
            id="fname"
            placeholder="Enter your full name"
            class="border pl-2 py-1 rounded w-full"
            required
          /><br />
          <br />
          <label for="age">Age:</label><br />
          <input
            type="number"
            id="age"
            placeholder="Enter your age"
            class="border pl-2 py-1 rounded w-full"
            required
          /><br /><br />
          <label for="bloodgroup">Blood Group:</label><br />
          <input
            type="text"
            id="bloodGroup"
            placeholder="Enter your  Blood Group"
            class="border pl-2 py-1 rounded w-full"
            required
          /><br /><br />
          <div class="flex justify-center">
            <input
              type="submit"
              value="Submit"
              class="border uppercase px-2 py-1 w-full font-semibold rounded bg-blue-400 hover:bg-blue-200"
            />
          </div>
        </form>
      </div>
    </div>

    <script>
      let donors = [
        {
          fullName: "Bipul Hossain",
          donorAge: "25",
          blood_group: "B+",
        },
        {
          fullName: "MSK Badhan",
          donorAge: "28",
          blood_group: "A+",
        },
      ];

      const renderData = () => {
        const tableRowsData = donors
          .map((donor, i) => {
            return `<tr class="text-center">
                        <td>${i + 1}.</td>
                        <td class="text-left md:text-center pl-2">${
                          donor.fullName
                        }</td>
                        <td>${donor.donorAge}</td>
                        <th class="uppercase">${donor.blood_group}</th>
                    </tr>`;
          })
          .join("");
        document.getElementById("donors-info").innerHTML = tableRowsData;
      };
      renderData();

      // addEventListener fACTION
      const onSubmitFunc = (e) => {
        e.preventDefault();

        // handle submit
        let donorName = document.getElementById("fname");
        let age = document.getElementById("age");

        // CREATE A OBJECT FOR EVERY SINGLE DONOR INFORMATION
        const donorInfo = {
          fullName: donorName.value,
          donorAge: age.value,
          blood_group: bloodGroup.value,
        };
        // FUSH THE ARRAY
        donors.push(donorInfo);
        // console.log(donors);
        renderData();
      };

      let donorInfo = document.getElementById("donorForm");
      donorInfo.addEventListener("submit", onSubmitFunc);
    </script>
  </body>
</html>
