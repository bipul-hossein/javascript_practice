<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Blood donors in Bangladesh</title>
  </head>
  <body class="w-[80%] mx-auto">
    <h1
      class="mt-3 text-3xl text-red-400 text-center uppercase font-bold underline"
    >
      Blood donors list!
    </h1>
    <div class="flex justify-between mt-8">
      <div class="w-[50%]">
        <h3 class="text-xl bg-blue-200 pl-3 text-center">Blood Donors</h3>
        <div>
          <table class="w-full">
            <thead>
              <tr>
                <th>SL</th>
                <th>Full name</th>
                <th>Age</th>
                <th>Blood Group</th>
              </tr>
            </thead>
            <tbody id="donors-info"></tbody>
          </table>
        </div>
      </div>
      <div class="w-[45%]">
        <form action="" id="donorForm">
          <label for="fname">Full name:</label><br />
          <input
            type="text"
            id="fname"
            placeholder="Enter your full name"
            class="border pl-2 py-1 rounded w-full"
            required
          /><br />
          <br />
          <label for="age">Age:</label><br />
          <input
            type="number"
            id="age"
            placeholder="Enter your age"
            class="border pl-2 py-1 rounded w-full"
            required
          /><br /><br />
          <label for="bloodgroup">Blood Group:</label><br />
          <input
            type="text"
            id="bloodGroup"
            placeholder="Enter your  Blood Group"
            class="border pl-2 py-1 rounded w-full"
            required
          /><br /><br />

          <input
            type="submit"
            value="Submit"
            class="border px-2 py-1 rounded bg-blue-400 hover:bg-blue-200"
          />
        </form>
      </div>
    </div>

    <script>
      let donors = [];
      let donorInfo = document.getElementById("donorForm");
      donorInfo.addEventListener("submit", (e) => {
        e.preventDefault();
        // handle submit
        let donorName = document.getElementById("fname");
        let age = document.getElementById("age");

        // CREATE A OBJECT FOR DONOR INFORMATION
        const donorInfo = {
          fullName: donorName.value,
          donorAge: age.value,
          blood_group: bloodGroup.value,
        };
        // FUSH THE ARRAY
        donors.push(donorInfo);

        const tableRows = donors.map((donor, i) => {
          return `<tr class="text-center">
                        <td>${i + 1}</td>
                        <td>${donor.fullName}</td>
                        <td>${donor.donorAge}</td>
                        <th>${donor.blood_group}</th>
                    </tr>`;
        });
        document.getElementById("donors-info").innerHTML = tableRows.join("");
      });
    </script>
  </body>
</html>
